---
title: "nyc_bikes_presentation"
author: "jane_hogg"
date: '2022-11-14'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown



```{r}
library(tidyverse)
library(ggplot2)
library(janitor)
library(ggplot2)
library(lubridate)
library(tsibbledata)
library(dplyr)
```
##Contents

Introduction
Purpose of the Report
summary of Findings and Recommendations
Deep Dive - 
  Our Customers
  Trips




##Introduction

The data used is from Citi Bikes based in New York, New York.  It is a sample of 10 bikes useage during 2018.  The start and stop time of use, start geo-location, membership type age and gender of the user is included in the sample.

Citi Bikes was founded in May 2013 and is a bike sharing scheme,  Bikes are availabel 24/7 7 days a week all year round.  There are well over 12,000+ bikes available across Manhattan, Brooklyn, Queens and Jersey City and there was a total of 746 active bike locations by the end of Decembmer 2018.

There are a range of price points to access the scheme including annual subscriptions.  At the end of December 2018 there were 3,653 annual members and 33,965 casual members signed up or renewed. Total
annual membership stood at 147,090 including memberships purchased with Jersey City billing zip codes.

The data has been processed to remove trips that are taken by staff as they service and inspect the system, trips that are taken to/from any “test” and any trips that were below 60 seconds in length (potentially false starts or users trying to re-dock a bike to ensure it's secure).  There is no personal data included in the sample other than age/gender. 

There are three points to note from the dataset that may lead us to consider if the data is fully representative of the populations as a whole. First the sample is predominately male - 72% of the sample and as a consequence the results may overly represent the use by men.  Secondly the samepl is predominately  members and this data does not include any discounted, single-day pass or single ride users.  

All bikes for rental are only suitable for full-able boded individuals.  There are no accessibility bikes or trikes and as a consequence anyone with a disability or limited mobility would not have been included in the data set.



##Purpose of the Report

What is the pattern of bike hires over time (e.g. within a year, month, week, or day)?

Do bike hire patterns differ between bike rider demographics? (e.g. gender, type of trip, age)

Any other insights?

## Summary of Findings






##Our Customers - 

```{r}
tsibbledata::nyc_bikes
```



```{r}
gender <- nyc_bikes %>% 
  select(gender)%>%
 count(gender)

gender

```
```{r}
ggplot(gender)+
  geom_bar(aes(x = gender, y = n), stat = 'identity', fill = "lightblue")+
 labs(
    x = "Gender",
    y = "Number",
    title = "Gender of Citibike Users",
    subtitle = "2018 Data (Sample 4268)",)
    
```

##From the data we can see that there is a significantly higher number of men in the survey results  - 71% of the sample with only 21% female.  It should also be noted that 6% of the sample did not respond to the question.




```{r}
sale_type <-nyc_bikes %>% 
  select(type)%>%
 count(type)

```

```{r}
ggplot(sale_type)+
  geom_bar(aes(x = type, y = n), stat = 'identity', fill = "lightblue")+
 labs(
    x = "Payment Method",
    y = "Number",
    title = "Payment Method of Citibike Users",
    subtitle = "2018 Data (Sample 4268)",)
```

##The majority of users were subscribers - 92% of the sample with the remaining 8% being pay as you go users.  There are financial advantages of securing a monthly payment over pay as you go fees, however this could be a market were there are opportunities for growth, in particular for the tourist market.


##Age profile of users

```{r}
 age <- nyc_bikes%>%
  mutate(age = 2018 - birth_year)



```





```{r}
ggplot(age)+
  aes(x = age) +
  geom_histogram(bins =20, colour = "lightblue")+
  labs(
    x = " Age ",
    y = "Number of Users",
    title = "Age Profiles of Citibike Users",
    subtitle = "2018 Data (Sample 4268)",)


```

```{r}
ggplot(age)+
  aes(x = age) +
  geom_histogram(bins =10, colour = "lightblue")+
  labs(
    x = " Age ",
    y = "Number of Users",
    title = "Age Profiles of Citibike Users - Drill down",
    subtitle = "2018 Data (Sample 4268)",)
```

## The age profile of our users is interesting with the majority being under 55.  
##According to 2019 US population estimates 15.4% of the total population in New York are 65 years and over.  There are currently 8.3million people in New York and this constitutes a potential market size of 1,250,522.  Not everyone in this age profile will be willing/capable to cycle but targetting just 1% of this market could bring 12,505 new users. Recommend further research with the 55+ market to consider demand and user needs.


###Our Trips - Monthly Useage


```{r}
nyc_bikes_df <- nyc_bikes %>%
  mutate(day = day(start_time),
         month = month(start_time),label = TRUE, abbr = FALSE,
          year = year(start_time))
nyc_bikes_df <- nyc_bikes_df %>%
  mutate(age = (year - birth_year))
```



```{r}
nyc_bikes_df %>%
  group_by(month) %>%
  count() %>%
  summarise(n) 
```



```{r}

nyc_bikes_df %>%
  group_by(month) %>%
  count() %>%
  summarise(n) %>%
ggplot(aes(x= month, y = n))+
  geom_point()+
  theme_bw()+
  scale_x_continuous(breaks = 1:12)+
  labs(
    x = " Months ",
    y = "Number of Users",
    title = "Citibike Users each Month",
    subtitle = "2018 Data (Sample 4268)",)

```

##July and August are the most popular months corresponding to both the driest months.  The lowest useage is in the winter months were cyling requires extra clothin, care and also there is more likely to be poor weather conditions e.g snow.  
##However there may still be opportunities to grow the useage during periods where there are opportunities for tourists to enjoy Christmas/New Year lights displays in the city.

```{r}
nyc_bikes_df %>%
  group_by(day) %>%
  count() %>%
  summarise(n) %>%
  ggplot(aes(x= day, y = n))+
  geom_point()+
  theme_bw()
```


```{r}
nyc_bikes_df %>%
  group_by(day) %>%
  count() %>%
  summarise(n) %>%
  ggplot(aes(x= day, y = n))+
  geom_point()+
  theme_bw()
```







Index from the Bikes data

start_time:	The time and date when the trip was started.
stop_time:	The time and date when the trip was ended.
start_station:	A unique identifier for the starting bike station.
start_lat:	The latitude of the starting bike station.
start_long:	The longitude of the starting bike station.
end_station:	A unique identifier for the destination bike station.
end_lat:	The latitutde of the destination bike station.
end_long:	The longitude of the destination bike station.
type:	The type of trip. A "Customer" has purchased either a 24-hour or 3-day pass, and a "Subscriber" has purchased an annual subscription.
birth_year	The bike rider's year of birth.
gender:	The gender of the bike rider.
